<?xml version="1.0" encoding="UTF-8" ?>
<dataConfig>
  <dataSource type="JdbcDataSource"               
			  driver="com.ibm.db2.jcc.DB2Driver"
              url="jdbc:db2://192.168.3.238:50000/ctand" 
              user="topicis" 
			  batchSize="200"
              password="topicissjz" />
  <document>
    <entity name="MARPRIPINFO" 
            query="select ID,entname,SUPERORGID,REGNO,lerep,oploc,opscope,enttype,enttypeitem,industryphy,
			substr(industryco,1,2) as industrycoda,
			(case length(industryco)				
				when 3 then industryco
				when 4 then substr(industryco,1,3) 
			end) as industrycoxi,
			(case length(industryco)
				when 4 then industryco 
			end) as industrycoxiao,
			venind,optype,enttypepro,state,regtype,estDate,apprdate,ORGID from REG_MARPRIPINFO">
			<field column="ID" name="id"/>
			<field column="REGNO" name="regno"/>
			<field column="SUPERORGID" name="superorgid"/>
			<field column="orgId" name="ORGID"/>
		 <entity name="entrecordno" query="select ARCHNO from REG_ENTRECORDNO where MARPRID='${MARPRIPINFO.ID}' and REGNO='${MARPRIPINFO.REGNO}'">
                <field name="archno" column="ARCHNO" />
         </entity>
		 <entity name="creinfo" query="select CredLevel from CRE_CreInfo where MarPrID='${MARPRIPINFO.ID}'">
                <field name="credLevel" column="CredLevel" />
         </entity>
		 <entity name="v_organ_reg" query="select ROOTID from V_ORGAN  where ('${MARPRIPINFO.ORGID}' is not null and '${MARPRIPINFO.ORGID}' != '') and ZID='${MARPRIPINFO.ORGID}'">
                <field name="regrootid" column="ROOTID" />
         </entity>
		 <entity name="v_organ" query="select ROOTID from V_ORGAN  where ('${MARPRIPINFO.SUPERORGID}' is not null and '${MARPRIPINFO.SUPERORGID}' != '') and ZID='${MARPRIPINFO.SUPERORGID}'">
                <field name="superrootid" column="ROOTID" />
         </entity>
    </entity>
  </document>
</dataConfig>